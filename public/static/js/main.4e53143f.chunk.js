(this.webpackJsonpcruspo=this.webpackJsonpcruspo||[]).push([[0],{289:function(e,t,a){},291:function(e,t,a){},692:function(e,t,a){},693:function(e,t,a){},701:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(21),c=a.n(s),r=(a(289),a(290),a(38),a(704)),o=a(705),l=(a(708),a(709),a(26)),d=a.n(l),u=(a.p,a.p,a(291),a.p,a(707)),h=(a(710),a(711)),p=(a(706),a(68)),j=a(57),m=a.n(j),b=(a(309),a(5));var x=a(197),g=a(121),O=a(202),y=a(159),f=a(160),v=a(162),D=a(161),C=a(200),w=(a(692),h.a.TextArea,C.a.RangePicker,function(e){Object(v.a)(a,e);var t=Object(D.a)(a);function a(e){var n;Object(y.a)(this,a),(n=t.call(this,e)).disabledDate=function(e){return e&&e<d()().subtract(1,"days")},n.changeDate=function(e){n.setState({date:e})},n.handleChange=function(e){""!==e.target.value&&(["startDuration","endDuration"].includes(e.target.name)?Object(O.a)(n.state.time)[e.target.dataset.id][e.target.name]=e.target.value:"currency"==e.target.name?(n.setState(Object(g.a)({},e.target.name,e.target.value)),console.log(e.target.value)):n.setState(Object(g.a)({},e.target.name,e.target.value)))},n.addNewRow=function(e){n.setState((function(e){return Object(x.a)(Object(x.a)({},e),{},{time:[].concat(Object(O.a)(e.time),[{index:Math.random(),startDuration:null,endDuration:null}])})}))},n.deleteRow=function(e){n.setState({time:n.state.time.filter((function(t){return t!==e}))})},n.handleSubmit=function(e){var t=JSON.parse(n.state.currency),a={appointmentTitle:n.state.appointmentTitle,appointmentDescription:n.state.description,currency:t,appointmentThumbnail:"",appointmentPrice:n.state.appointmentPrice,duration:30==n.state.duration||45==n.state.duration?{hours:0,minutes:n.state.duration}:{hours:n.state.duration,minutes:0},availableDates:[{availabilityType:n.state.availablity,value:n.state.date,timings:n.state.time}],status:1==e?"DRAFT":"PUBLISHED",timezone:n.state.timezone};console.log(a),m.a.post("https://keshavsuman.cruspo.com/api/admin/appointment/updateAppointment/".concat(n.state.pagedata._id),a).then((function(e){console.log(e.data),alert("update successfully")})).catch((function(e){console.log(e)}))},n.state={appointmentTitle:"",description:"",currency:[],appointmentPrice:null,duration:"",time:[{index:Math.random(),startDuration:null,endDuration:null}],date:"",availablity:"",timezone:"",status:"",appointmentThumbnail:"",pagedata:[],timezones:[],currencies:[]};var i=new Date;d()(i).format("YYYY-MM-DD");return n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),m.a.get("https://keshavsuman.cruspo.com/api/currencies").then((function(t){e.setState({currencies:t.data})})).catch((function(e){console.log(e)})),m.a.get("https://keshavsuman.cruspo.com/api/timezones").then((function(t){e.setState({timezones:t.data})})).catch((function(e){console.log(e)})),m.a.get("https://keshavsuman.cruspo.com/api/admin/appointment/".concat(this.props.match.params.id)).then((function(t){e.setState({pagedata:t.data,appointmentTitle:t.data.appointmentTitle,description:t.data.appointmentDescription,currency:JSON.stringify(t.data.currency),appointmentPrice:t.data.appointmentPrice,duration:0==t.data.duration.minutes?t.data.duration.hours:t.data.duration.minutes,time:[{index:Math.random(),startDuration:t.data.availableDates[0].timings[0].startDuration,endDuration:t.data.availableDates[0].timings[0].endDuration}],date:t.data.availableDates[0].value,status:t.data.status,appointmentThumbnail:t.data.appointmentThumbnail,availablity:t.data.availableDates[0].availabilityType,timezone:t.data.timezone})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(r.a,{style:{padding:"20px"},children:[console.log(this.state),Object(b.jsx)(r.a,{gutter:10,style:{width:"100%",flexDirection:"column"},justify:"space-between",children:Object(b.jsxs)(u.a,{children:[Object(b.jsxs)(r.a,{justify:"space-between",className:"gutter-row",children:[Object(b.jsx)(o.a,{xs:12,md:4,children:Object(b.jsx)("img",{src:"https://picsum.photos/seed/picsum/200/300",style:{marginLeft:70,marginTop:20},width:"300",height:"150",alt:"dead"})}),Object(b.jsxs)(o.a,{span:8,style:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},children:[Object(b.jsx)(p.a,{size:"medium",shape:"round",type:"primary",onClick:function(){e.handleSubmit(1)},children:"Save Changes"}),Object(b.jsx)(p.a,{shape:"round",size:"medium",type:"primary",onClick:function(){e.handleSubmit(2)},children:"Save & Publish"}),Object(b.jsx)(p.a,{shape:"round",size:"medium",type:"primary",onClick:function(){e.handleSubmit(2)},children:"Unpublish"})]})]}),Object(b.jsx)(r.a,{justify:"center",className:"gutter-row",style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid lightgrey"},children:Object(b.jsx)(o.a,{span:22,children:Object(b.jsxs)(r.a,{justify:"space-around",children:[Object(b.jsxs)(o.a,{className:"gutter-row",span:24,children:[Object(b.jsx)(u.a.Item,{children:Object(b.jsx)("input",{required:!0,style:{width:"100%",height:"40px"},onChange:function(t){e.handleChange(t)},name:"appointmentTitle",defaultValue:this.state.appointmentTitle,placeholder:"Title",size:"large"})}),Object(b.jsx)(u.a.Item,{children:Object(b.jsx)("textarea",{required:!0,name:"description",defaultValue:this.state.description,style:{width:"100%"},onChange:function(t){e.handleChange(t)},placeholder:"Description",size:"large",rows:5})})]}),Object(b.jsxs)(o.a,{className:"gutter-row",span:24,children:[Object(b.jsxs)(r.a,{gutter:8,children:[Object(b.jsx)(o.a,{className:"gutter-row",span:12,children:Object(b.jsx)(u.a.Item,{children:Object(b.jsxs)("select",{required:!0,value:this.state.currency,onChange:function(t){e.handleChange(t)},style:{width:"100%",height:"40px"},name:"currency",placeholder:"Currency",size:"large",children:[Object(b.jsx)("option",{value:"",children:"Select Currency"}),this.state.currencies.map((function(e){return Object(b.jsx)("option",{value:JSON.stringify(e),children:e.fullName})}))]})})}),Object(b.jsx)(o.a,{className:"gutter-row",span:12,children:Object(b.jsx)(u.a.Item,{children:Object(b.jsx)("input",{required:!0,type:"int",defaultValue:this.state.appointmentPrice,onChange:function(t){e.handleChange(t)},style:{width:"100%",height:"40px"},name:"appointmentPrice",placeholder:"Price",size:"large"})})})]}),Object(b.jsxs)(r.a,{gutter:8,children:[Object(b.jsx)(o.a,{className:"gutter-row",span:12,children:Object(b.jsx)(u.a.Item,{children:Object(b.jsxs)("select",{required:!0,value:this.state.duration,onChange:function(t){e.handleChange(t)},style:{width:"100%",height:"40px"},name:"duration",placeholder:"Duration",size:"large",children:[Object(b.jsx)("option",{value:"",children:"Duration"}),Object(b.jsx)("option",{value:30,children:"30 minutes"}),Object(b.jsx)("option",{value:45,children:"45 minutes"}),Object(b.jsx)("option",{value:1,children:"1 hour"}),Object(b.jsx)("option",{value:2,children:"2 hour"})]})})}),Object(b.jsxs)(o.a,{className:"gutter-row",span:12,children:[Object(b.jsx)(u.a.Item,{children:Object(b.jsxs)("select",{required:!0,value:this.state.availablity,onChange:function(t){e.handleChange(t)},style:{width:"100%",height:"40px"},name:"availablity",placeholder:"Currency",size:"large",children:[Object(b.jsx)("option",{value:"",children:"Availability"}),Object(b.jsx)("option",{value:"Once",children:"Once"}),Object(b.jsx)("option",{value:"Monday",children:"Monday"}),Object(b.jsx)("option",{value:"Tuesday",children:"Tuesday"}),Object(b.jsx)("option",{value:"Wednesday",children:"Wednesday"}),Object(b.jsx)("option",{value:"Thrusday",children:"Thrusday"}),Object(b.jsx)("option",{value:"Friday",children:"Friday"}),Object(b.jsx)("option",{value:"Saturday",children:"Saturday"}),Object(b.jsx)("option",{value:"Sunday",children:"Sunday"})]})}),"``"]})]}),Object(b.jsxs)(r.a,{gutter:8,children:[Object(b.jsx)(o.a,{className:"gutter-row",span:12,children:Object(b.jsx)(u.a.Item,{children:Object(b.jsxs)("select",{required:!0,value:this.state.timezone,onChange:function(t){e.handleChange(t)},style:{width:"100%",height:"40px"},name:"timezone",placeholder:"Currency",size:"large",children:[Object(b.jsx)("option",{value:"",children:"Select Timezone"}),this.state.timezones.map((function(e){return Object(b.jsx)("option",{value:e,children:e})}))]})})}),Object(b.jsx)(o.a,{className:"gutter-row",span:12,children:Object(b.jsx)(C.a,{defaultValue:this.state.date,onChange:this.changeDate,disabledDate:this.disabledDate,style:{width:"100%"}})})]}),Object(b.jsx)(o.a,{className:"gutter-row",span:24,children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Start Time"}),Object(b.jsx)("th",{children:"End Time"})]})}),Object(b.jsx)("tbody",{children:this.state.time.map((function(t,a){var n="startDuration-".concat(a),i="endDuration-".concat(a);return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(h.a,{required:!0,type:"time",style:{width:"300px"},onChange:function(t){return e.handleChange(t)},name:"startDuration",id:n,"data-id":a})}),Object(b.jsx)("td",{children:Object(b.jsx)(h.a,{required:!0,type:"time",style:{width:"300px"},onChange:function(t){return e.handleChange(t)},name:"endDuration",id:i,"data-id":a})}),Object(b.jsx)("td",{children:0===a?Object(b.jsx)("i",{"aria-hidden":"true"}):Object(b.jsxs)("button",{onClick:function(){return e.deleteRow(t)},children:["-",Object(b.jsx)("i",{"aria-hidden":"true"})]})})]},t.index)}))}),Object(b.jsxs)("button",{style:{float:"left"},onClick:this.addNewRow,type:"button",className:"binput",children:["+",Object(b.jsx)("i",{className:"binput","aria-hidden":"true"})]})]})})]})]})})})]})}),Object(b.jsx)(r.a,{style:{padding:"40px",marginTop:"20px"}})]})}}]),a}(i.a.Component));a(201);n.Component,a(693);var T=a(25),S=a(276);var z=function(){return Object(b.jsx)(n.Fragment,{children:Object(b.jsx)(S.a,{children:Object(b.jsx)(T.c,{children:Object(b.jsx)(T.a,{path:"/",component:w})})})})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,712)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),s(e),c(e)}))};c.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(z,{})}),document.getElementById("root")),N()}},[[701,1,2]]]);
//# sourceMappingURL=main.4e53143f.chunk.js.map